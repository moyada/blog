---
title: 高并发问题
categories: 随笔
date: 2018-06-09 20:43:19
tags:
---

高并发下系统所出现的问题和解决思路

# 缓存

# 消息队列

# 数据库

## 读写压力

由于写操作需要建立索引等占用时间长导致读操作阻塞，导致sql的执行时间大大增加。

这种情况下就需要考虑分库和读写分离了，利用分库将数据库压力分散，将写操作异步化。

如果单表数据过大，那么还需要对数据进行分表隔离，减少单表索引数据。

如果业务可能，还可以做到冷热数据隔离。

## 磁盘、cpu压力

由于高并发带来的大量数据导致磁盘暴涨、cpu高负载，会极大影响sql性能。

这个时候可以对数据库服务器进行扩容，将服务器成倍扩容、分割数据，以提高性能瓶颈。

---

分库分表虽然能够解决性能问题，但是由于其复杂性随之而来的问题也不少。

1. 数据hash/range路由问题

2. 全局唯一性id

3. 分布式数据库事务

4. 数据库扩容导致的数据迁移问题

5. 主从同步延迟

6. 服务器成本和运维成本大大提高